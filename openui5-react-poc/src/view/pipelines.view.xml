<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:ci="sap.ciconnect.control"
		controllerName="sap.ciconnect.view.pipelines" xmlns:html="http://www.w3.org/1999/xhtml">
		
	<FlexBox direction="Column" alignItems="SpaceBetween" >
		<items>
			<Toolbar>
				<content>
					<Select
						forceSelection="false"
						selectedKey="{category>/0/key}"
						showSecondaryValues= "true"
						width="150px"
						tooltip="Pipeline Categories"
						items="{
							path: 'category>/',
							sorter: { path: 'text' }}">
						<core:ListItem key="{category>key}" text="{category>text}" additionalText="{category>count}"/>
					</Select>
					<SearchField placeholder="Search"  width="100%" liveChange="onSearch" />
				</content>
			</Toolbar>
			<List id="pipelineList"
				items="{pipeline>/}"
				mode="SingleSelectLeft"
				includeItemInSelection="true"
				selectionChange="onSelectionChange">
				<CustomListItem>
					<HBox alignItems="Start" justifyContent="SpaceBetween">
						<VBox>
							<HBox class="sapUiSmallMarginTop">
								<core:Icon size="1rem" class="sapUiSmallMarginBegin  ciconnectIcon"
									src="sap-icon://{= ${pipeline>sapPredefined} ? 'sap-logo-shape' : 'customize'}"/>

								<Link text="{pipeline>name}" target="_blank" href="{pipeline>html_url}" class="sapUiSmallMarginBegin"/>
							</HBox>
							<ObjectNumber number="{pipeline>countOfRepoAssigned}" unit="Repo Assigned" class="sapUiSmallMarginBegin sapUiSmallMarginBottom"
								state="{path: 'pipeline>countOfRepoAssigned', formatter: '.formatter.pipeLineAssignedRepoState'}"/>
						</VBox>
						<ci:BOControl moduleName="PipelineGraph" controlName="PipelineGraph" props="{pipeline>}" />
					</HBox>
				</CustomListItem>
			</List>
		</items>
	</FlexBox>
</mvc:View>