<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:ci="sap.ciconnect.control"
		controllerName="sap.ciconnect.view.repositories" xmlns:html="http://www.w3.org/1999/xhtml">
	<FlexBox direction="Column" alignItems="SpaceBetween" >
		<items>
			<Toolbar>
				<content>
					<Select
						forceSelection="false"
						selectedKey="{category>/0/key}"
						showSecondaryValues= "true"
						width="150px"
						tooltip="Pipeline Categories"
						items="{
							path: 'category>/',
							sorter: { path: 'text' }}">
						<core:ListItem key="{category>key}" text="{category>text}" additionalText="{category>count}"/>
					</Select>
					<SearchField placeholder="Search"  width="100%" liveChange="onSearch" />
				</content>
			</Toolbar>
			<List
				id="repoList"
				items="{repo>/}"
				mode="MultiSelect"
				includeItemInSelection="true" 
				selectionChange="onSelectionChange">
				<CustomListItem>
					<HBox alignItems="Start" justifyContent="SpaceBetween">
						<VBox  class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom" >
							<HBox>
								<Link text="{repo>full_name}" target="_blank" href="{repo>html_url}"/>
								<core:Fragment fragmentName="sap.ciconnect.fragment.RepoBadgeIcons" type="XML" />
							</HBox>
							<Text text="{repo>description}"/>
						</VBox>
						<ci:Pipeline type="{repo>type}" jobs="{path:'repo>pipeline/jobs', templateShareable: true}" titleFirst="false"
							 tileHeight="20" tileWidth="30" jobStyle="{setting>/jobStyle}" enableConnection="{setting>/enableConnection}"
							 enableText="{setting>/enableText}" enableTwoRow="{setting>/enableTwoRow}">
							<ci:title>
								<Label text="{repo>pipeline/name}" tooltip="{repo>pipeline/name}"/>
							</ci:title>
							<ci:jobs>
								<ci:Job goal="{repo>goal}" type="{repo>type}" status="{repo>status}"
									shortTooltip="status: {repo>status}" serviceLink="{repo>link}"/>
							</ci:jobs>
						</ci:Pipeline>
					</HBox>
				</CustomListItem>
			</List>
		</items>
	</FlexBox>
</mvc:View>